<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IGB 雲端 ERP 系統架構圖 - 技術分層與財務設定</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* 調整為 flex-start 避免內容過長時置中 */
            min-height: 100vh;
            padding: 20px;
        }
        .flow-block {
            transition: all 0.3s ease;
        }
        .flow-block:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .config-card {
            border-left: 5px solid #3b82f6; /* Blue indicator */
        }
    </style>
</head>
<body>

<div class="max-w-4xl w-full p-4 md:p-8 bg-white rounded-xl shadow-2xl">
    <h1 class="text-3xl font-extrabold text-center text-indigo-700 mb-6 border-b-4 border-indigo-200 pb-2">
        IGB ERP 雲端整合技術分層架構圖
    </h1>
    <p class="text-center text-gray-600 mb-8">
        展示核心系統如何透過雲端整合平台，將數據匯集至 BI 中心，實現即時決策支援。
    </p>

    <!-- 架構圖主體容器 (使用 SVG 繪製連接線) -->
    <div class="relative flex flex-col items-center space-y-8 mb-12">

        <!-- 1. 頂層：企業洞察與決策層 (數據中心 / BI) -->
        <div id="layer-bi" class="flow-block bg-green-500 text-white p-5 rounded-lg w-full max-w-sm text-center shadow-lg transform scale-105">
            <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m0 0h14m-7 0v-6a2 2 0 00-2-2h-2a2 2 0 00-2 2v6m4-11V7a4 4 0 10-8 0v2"></path></svg>
            <h2 class="text-2xl font-bold">數據中心 / BI</h2>
            <p class="text-sm">Data Center / Business Intelligence</p>
            <p class="mt-1 text-xs opacity-80">即時洞察、管理報告、AI 預測分析</p>
        </div>

        <!-- 連接線 1: 雲端整合 向上 連接 BI -->
        <svg height="40" width="10" class="text-gray-400">
            <line x1="5" y1="0" x2="5" y2="40" stroke="currentColor" stroke-width="2" stroke-dasharray="5,5" />
            <polygon points="5,35 0,40 10,40" fill="currentColor" />
        </svg>

        <!-- 2. 中層：雲端整合骨幹 (ERP 雲端整合) -->
        <div id="layer-integration" class="flow-block bg-indigo-600 text-white p-5 rounded-lg w-full max-w-xl text-center shadow-xl">
             <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10l2 2 2-2V7m0 0l-2-2-2 2m4 0h6m-6 0l2-2 2 2m-4 0v10l2 2 2-2V7m0 0l-2-2-2 2m4 0h6m-6 0l2-2 2 2m4 0v10l2 2 2-2V7m0 0l-2-2-2 2"></path></svg>
            <h2 class="text-2xl font-bold">ERP 雲端整合平台</h2>
            <p class="text-sm">Cloud Integration / API Gateway</p>
            <p class="mt-1 text-xs opacity-80">數據即時同步、標準 API、流程自動化</p>
        </div>

        <!-- 連接線 2: 核心系統 向上 連接 雲端整合 (三條箭頭) -->
        <div class="flex justify-around w-full max-w-2xl">
            <!-- Left Arrow -->
            <svg height="40" width="120" class="text-gray-400">
                <line x1="60" y1="0" x2="60" y2="40" stroke="currentColor" stroke-width="2" stroke-dasharray="5,5" />
                <polygon points="60,35 55,40 65,40" fill="currentColor" />
            </svg>
            <!-- Middle Arrow (Placeholder for alignment) -->
            <svg height="40" width="120" class="text-gray-400 hidden sm:block">
                <line x1="60" y1="0" x2="60" y2="40" stroke="currentColor" stroke-width="2" stroke-dasharray="5,5" />
                <polygon points="60,35 55,40 65,40" fill="currentColor" />
            </svg>
            <!-- Right Arrow -->
            <svg height="40" width="120" class="text-gray-400">
                <line x1="60" y1="0" x2="60" y2="40" stroke="currentColor" stroke-width="2" stroke-dasharray="5,5" />
                <polygon points="60,35 55,40 65,40" fill="currentColor" />
            </svg>
        </div>

        <!-- 3. 底層：核心業務系統層 (ERP 管理 & 人事管理) -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 w-full max-w-4xl">

            <!-- 核心系統 A: ERP 管理 (Highlight) -->
            <div id="layer-erp" class="flow-block bg-yellow-50 border-4 border-yellow-500 p-6 rounded-xl text-center shadow-lg">
                <svg class="w-8 h-8 mx-auto mb-2 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                <h3 class="text-xl font-semibold text-gray-800">ERP 管理 <span class="text-sm text-red-500">(目前焦點)</span></h3>
                <p class="text-sm text-gray-500">ERP Management</p>
                <ul class="text-left text-xs text-gray-600 mt-2 list-disc list-inside space-y-1">
                    <li class="font-bold text-yellow-700">財務會計 (FI/CO) - 進行設定</li>
                    <li>供應鏈/採購 (SCM)</li>
                    <li>生產製造 (PP/QM)</li>
                </ul>
            </div>

            <!-- 核心系統 B: 人事管理 -->
            <div id="layer-hr" class="flow-block bg-white border-2 border-red-500 p-6 rounded-xl text-center shadow-lg">
                <svg class="w-8 h-8 mx-auto mb-2 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20v-2A3 3 0 005.356 18.143 3 3 0 0017 20zm-7.778-8.778a5 5 0 019.244 0"></path></svg>
                <h3 class="text-xl font-semibold text-gray-800">人事管理</h3>
                <p class="text-sm text-gray-500">HR / HCM</p>
                <ul class="text-left text-xs text-gray-600 mt-2 list-disc list-inside space-y-1">
                    <li>員工主檔</li>
                    <li>薪資與福利</li>
                    <li>考勤與差旅報銷</li>
                </ul>
            </div>
        </div>

        <!-- 4. 最底層：雲端基礎設施 -->
        <div id="layer-infra" class="mt-8 bg-gray-200 text-gray-700 p-3 rounded-xl w-full text-center shadow-inner">
            <p class="font-semibold text-lg">雲端基礎設施 (Cloud Infrastructure)</p>
            <p class="text-xs">數據存儲、安全服務、網路資源</p>
        </div>

    </div>

    <!-- --------------------------------------- -->
    <!-- 新增：財務基礎設定區塊 -->
    <!-- --------------------------------------- -->
    <div id="financial-config" class="mt-12 p-6 bg-blue-50 rounded-xl shadow-inner config-card">
        <h2 class="text-2xl font-bold text-blue-700 mb-4 flex items-center">
            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
            財務管理：系統初始化基礎設定
        </h2>
        <p class="text-gray-600 mb-6">
            這是配置總帳模組的關鍵步驟。準確定義會計期間和科目表，是確保財務報告合規性的基石。
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- 1. 會計期間設定 -->
            <div class="p-4 bg-white rounded-lg shadow-md border border-gray-200">
                <h3 class="text-lg font-semibold text-blue-600 mb-3">1. 會計期間 (Fiscal Period)</h3>
                <div class="space-y-4">
                    <div>
                        <label for="fiscalYear" class="block text-sm font-medium text-gray-700">選擇會計年度：</label>
                        <select id="fiscalYear" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                            <option value="2025" selected>2025 年</option>
                            <option value="2026">2026 年</option>
                            <option value="2027">2027 年</option>
                        </select>
                    </div>
                    <div>
                        <label for="periodType" class="block text-sm font-medium text-gray-700">期間類型：</label>
                        <select id="periodType" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                            <option value="calendar" selected>12 個日曆月 (1月-12月)</option>
                            <option value="custom">自定義期間 (如 4-4-5 週)</option>
                            <option value="july">7月-6月</option>
                        </select>
                    </div>
                    <div id="periodSummary" class="p-3 bg-green-100 border border-green-300 rounded-md text-sm text-green-800">
                        系統將根據選擇，自動生成 12 個會計期間，並設置結算和調整期間。
                    </div>
                </div>
            </div>

            <!-- 2. 科目表設定 -->
            <div class="p-4 bg-white rounded-lg shadow-md border border-gray-200">
                <h3 class="text-lg font-semibold text-blue-600 mb-3">2. 科目表 (Chart of Accounts)</h3>
                <div class="space-y-4">
                    <div>
                        <label for="coaTemplate" class="block text-sm font-medium text-gray-700">選擇科目表範本：</label>
                        <select id="coaTemplate" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                            <option value="gaap_tw" selected>台灣 GAAP (一般公認會計原則)</option>
                            <option value="ifrs">IFRS (國際財務報導準則)</option>
                            <option value="us_gaap">US GAAP (美國公認會計原則)</option>
                            <option value="custom">空白範本 (手動導入)</option>
                        </select>
                    </div>
                    <div>
                        <label for="accountLength" class="block text-sm font-medium text-gray-700">帳號長度：</label>
                        <input type="number" id="accountLength" value="6" min="4" max="10" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                        <p class="text-xs text-gray-500 mt-1">建議長度 $6 - 8$ 位，用於帳號層級管理 (如 $100000$ 應收帳款)。</p>
                    </div>
                    <div id="coaSummary" class="p-3 bg-yellow-100 border border-yellow-300 rounded-md text-sm text-yellow-800">
                        選定後，系統將載入約 $500$ 個預設科目，可隨時依據企業需求進行增修。
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-6 pt-4 border-t border-gray-200 text-center">
            <button onclick="applySettings()" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                確認並初始化財務模組
            </button>
            <p id="statusMessage" class="mt-3 text-sm font-semibold text-gray-700 opacity-0 transition duration-500">
                <!-- Status message here -->
            </p>
        </div>
    </div>
    <!-- --------------------------------------- -->
    <!-- 腳本區塊 -->
    <!-- --------------------------------------- -->
    <script>
        // 腳本用於模擬設定應用邏輯
        function applySettings() {
            const fiscalYear = document.getElementById('fiscalYear').value;
            const periodType = document.getElementById('periodType').options[document.getElementById('periodType').selectedIndex].text;
            const coaTemplate = document.getElementById('coaTemplate').options[document.getElementById('coaTemplate').selectedIndex].text;
            const accountLength = document.getElementById('accountLength').value;
            const statusMessage = document.getElementById('statusMessage');

            // 顯示初始化訊息
            statusMessage.classList.remove('opacity-0');
            statusMessage.classList.remove('text-gray-700');
            statusMessage.classList.add('text-green-600');
            statusMessage.innerHTML = `
                <span class="animate-pulse">
                    正在初始化財務核心...
                </span>
            `;

            // 模擬異步操作
            setTimeout(() => {
                statusMessage.innerHTML = `
                    ✅ <strong>財務模組初始化成功！</strong><br>
                    會計年度: ${fiscalYear} (${periodType})<br>
                    科目表 (${coaTemplate}) 已載入，帳號長度設定為 ${accountLength} 位。
                `;
                statusMessage.classList.remove('animate-pulse');
                statusMessage.classList.remove('text-gray-700');
                statusMessage.classList.remove('text-blue-600');
                statusMessage.classList.add('text-green-600');
            }, 1500);
        }
    </script>
</div>

</body>
</html>
